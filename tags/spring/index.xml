<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Spring on isheihei&#39;s blog</title>
        <link>https://isheihei.github.io/tags/spring/</link>
        <description>Recent content in Spring on isheihei&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Tue, 23 Aug 2022 22:42:50 +0800</lastBuildDate><atom:link href="https://isheihei.github.io/tags/spring/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Springå¸¸è§é¢˜ç›®</title>
        <link>https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/</link>
        <pubDate>Tue, 23 Aug 2022 22:42:50 +0800</pubDate>
        
        <guid>https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/</guid>
        <description>&lt;h2 id=&#34;ioc&#34;&gt;IOC&lt;/h2&gt;
&lt;p&gt;Spring IoCæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ - çŸ¥ä¹ &lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/question/23277575&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.zhihu.com/question/23277575&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®¹å™¨å¯åŠ¨è¿‡ç¨‹&#34;&gt;å®¹å™¨å¯åŠ¨è¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;beandefination&#34;&gt;BeanDefination&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µåï¼ˆåŠ ç²—çš„å­—æ®µåŒæ—¶æ”¯æŒå±æ€§çš„å†™å…¥è¯»å–ï¼Œå…¶ä»–å­—æ®µæ”¯æŒå­—æ®µçš„è¯»å–ï¼‰&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;parentName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;BeanDefination çš„çˆ¶èŠ‚ç‚¹ï¼Œç”¨äºç›¸å…³å±æ€§çš„ç»§æ‰¿ ï¼Œå¯ä»¥ä¸ºç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;beanClassName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;beançš„Classåç§°ï¼Œå¯ä»¥ä¸ºç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;scope&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;beançš„scopeï¼ŒIoCå®¹å™¨æä¾›singletonå’Œprototypeä¸¤ç§scopeï¼Œæ”¯æŒä¸šåŠ¡æ‹“å±•ï¼Œé»˜è®¤ä¸ºsingleton&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;lazyInit&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦æ”¯æŒæ‡’åŠ è½½ï¼šé»˜è®¤ä¸ºfalseï¼Œå³åœ¨IoCå®¹å™¨åˆå§‹åŒ–æ˜¯è¿›è¡ŒBeançš„åˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯ç­‰åˆ°åº”ç”¨è·å–beanæ—¶æ‰è¿›è¡Œåˆå§‹åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;dependsOn&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°å½“å‰beanåˆå§‹åŒ–å‰ä¾èµ–çš„Spring beanï¼ŒBeanFactory ç¡®ä¿è¯¥åˆå§‹åŒ–é¡ºåº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;autowireCandidate&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å½“ç”¨æˆ·æœªæŒ‡æ˜å…·ä½“å¼•ç”¨æ—¶ï¼Œæ˜¯å¦å°†å½“å‰beanä½œä¸ºå…¶ä»–beançš„ç±»å‹æ³¨å…¥çš„å€™é€‰å¯¹è±¡é›†ï¼Œé»˜è®¤ä¸ºtrue&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;primary&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»“åˆä¸Šä¸€ä¸ªå­—æ®µ&lt;code&gt;autowireCandidate&lt;/code&gt;ï¼Œå½“è¯¥beanå‡ºç°åœ¨å€™é€‰å¯¹è±¡é›†ä¸­ï¼Œè¯¥beanæ˜¯å¦ä¸ºä¼˜å…ˆé€‰æ‹©çš„å¯¹è±¡ï¼Œé»˜è®¤ä¸ºfalse&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;factoryBeanName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨äºå®ä¾‹åŒ–Beançš„å·¥å‚ç±»çš„Bean Nameï¼Œå¯ä¸ºç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;factoryMethodName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨äºå®ä¾‹åŒ–Beançš„å·¥å‚ç±»çš„æ–¹æ³•åç§°ï¼Œå¯ä¸ºç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;constructorArgumentValues&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°Beanåˆå§‹åŒ–çš„ç›¸å…³å‡½æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;propertyValues&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°Bean ç›¸å…³å±æ€§çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;initMethodName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°Bean å†…éƒ¨çš„è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;destroyMethodName&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°Bean å†…éƒ¨çš„è‡ªå®šä¹‰çš„é”€æ¯æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;role&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Beançš„è§’è‰²ï¼Œä¸€èˆ¬åˆ†ä¸º&lt;code&gt;APPLICATION&lt;/code&gt;ã€&lt;code&gt;SUPPORT&lt;/code&gt;ã€&lt;code&gt;INFRASTRUCTURE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;description&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Beanæè¿°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ResolvableType&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Typeå¯¹è±¡åœ¨Springä¸­çš„æŠ½è±¡è¡¨è¾¾ï¼Œæä¾›è¾ƒä¸ºå‹å¥½çš„æ³›å‹ç±»å‹æå–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Abstract&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦ä¸ºAbstractç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ResourceDescription&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯¹äºBeanDefinationå®šä¹‰æ¥æºçš„æè¿°ï¼Œç”¨äºæ—¥å¿—ç­‰ä¿¡æ¯å±•ç¤ºåœºæ™¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;refersh() æµç¨‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;AppliacationContext.refresh()&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;synchronizedåŠ é”ï¼Œå‡†å¤‡å·¥ä½œ, è®°å½•å®¹å™¨çš„å¯åŠ¨æ—¶é—´, æ ‡è®°å·²å¯åŠ¨çŠ¶æ€, å¤„ç†é…ç½®æ–‡ä»¶ç§çš„å ä½ç¬¦&lt;/li&gt;
&lt;li&gt;å°†é…ç½®æ–‡ä»¶è§£ææˆä¸€ä¸ªä¸ªbean definition,æ³¨å†Œåˆ°é‡å»ºçš„beanFactoryä¸­,(åªæ˜¯æå–äº†é…ç½®ä¿¡æ¯,beanå¹¶æ²¡æœ‰åˆå§‹åŒ–)ï¼ŒåŒæ—¶è¿˜è®¾ç½®ä¸¤ä¸ªé…ç½®å±æ€§ï¼š1ã€æ˜¯å¦å…è®¸beanè¦†ç›–2ã€æ˜¯å¦å…è®¸å¾ªç¯å¼•ç”¨&lt;/li&gt;
&lt;li&gt;è®¾ç½®beanFactoryçš„ç±»åŠ è½½å™¨, æ·»åŠ å‡ ä¸ªbeanPostProcessor&lt;/li&gt;
&lt;li&gt;å¦‚æœbeanå®ç°äº†beanFactoryPostProcessor å°†ä¼šæ‰§è¡ŒpostProcessBeanFactoryæ–¹æ³•  æä¾›å­ç±»çš„æ‰©å±•ç‚¹,åˆ°è¿™beanéƒ½åŠ è½½ã€æ³¨å†Œå®Œæˆ,ä½†æ²¡æœ‰åˆå§‹åŒ–,å…·ä½“çš„å­ç±»å¯ä»¥åœ¨è¿™æ­¥æ·»åŠ ç‰¹æ®Šbfppå®ç°ç±»åšäº‹&lt;/li&gt;
&lt;li&gt;è°ƒç”¨beanFactoryPostProcessor çš„å„ä¸ªå®ç°ç±»çš„ppbfæ–¹æ³•&lt;/li&gt;
&lt;li&gt;æ³¨å†ŒBeanPostProcessorçš„å®ç°ç±»,BeanPostProcessorå°†åœ¨beanåˆå§‹åŒ–å‰åæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–å½“å‰ ApplicationContext çš„ MessageSourceï¼Œå›½é™…åŒ–&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–å½“å‰ ApplicationContext çš„äº‹ä»¶å¹¿æ’­å™¨&lt;/li&gt;
&lt;li&gt;æ¨¡æ¿æ–¹æ³•(é’©å­æ–¹æ³•ï¼Œå…·ä½“çš„å­ç±»å¯ä»¥åœ¨è¿™é‡Œåˆå§‹åŒ–ä¸€äº›ç‰¹æ®Šçš„ Beanï¼ˆåœ¨åˆå§‹åŒ– singleton beans ä¹‹å‰ï¼‰&lt;/li&gt;
&lt;li&gt;å®ä¾‹åŒ–+åˆå§‹åŒ–æ‰€æœ‰çš„éæ‡’åŠ è½½çš„å•ä¾‹bean&lt;/li&gt;
&lt;li&gt;å¹¿æ’­äº‹ä»¶ï¼ŒApplicationContext åˆå§‹åŒ–å®Œæˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164014978-2077560080.png&#34;
	width=&#34;1311&#34;
	height=&#34;1073&#34;
	srcset=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164014978-2077560080_hu5c28096d6537fbaadcd9c813d5f1e9aa_139822_480x0_resize_box_3.png 480w, https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164014978-2077560080_hu5c28096d6537fbaadcd9c813d5f1e9aa_139822_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;122&#34;
		data-flex-basis=&#34;293px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;refresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BeansException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IllegalStateException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//ä¿è¯å®¹å™¨å¯åŠ¨é”€æ¯æ“ä½œçš„å¹¶å‘å®‰å…¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;startupShutdownMonitor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;//å‡†å¤‡å·¥ä½œ, è®°å½•å®¹å™¨çš„å¯åŠ¨æ—¶é—´, æ ‡è®°å·²å¯åŠ¨çŠ¶æ€, å¤„ç†é…ç½®æ–‡ä»¶ç§çš„å ä½ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;prepareRefresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;//è¿™æ­¥ç”¨äºå°†é…ç½®æ–‡ä»¶è§£ææˆä¸€ä¸ªä¸ªbean definition,æ³¨å†Œåˆ°é‡å»ºçš„beanFactoryä¸­,(åªæ˜¯æå–äº†é…ç½®ä¿¡æ¯,beanå¹¶æ²¡æœ‰åˆå§‹åŒ–)ï¼ŒåŒæ—¶è¿˜è®¾ç½®ä¸¤ä¸ªé…ç½®å±æ€§ï¼š1ã€æ˜¯å¦å…è®¸beanè¦†ç›–2ã€æ˜¯å¦å…è®¸å¾ªç¯å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;ConfigurableListableBeanFactory&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;obtainFreshBeanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;//è®¾ç½®beanFactoryçš„ç±»åŠ è½½å™¨, æ·»åŠ å‡ ä¸ªbeanPostProcessor ,æ‰‹åŠ¨æ³¨å†Œå‡ ä¸ªç‰¹æ®Šçš„bean
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;prepareBeanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//å¦‚æœbeanå®ç°äº†beanFactoryPostProcessor å°†ä¼šæ‰§è¡ŒpostProcessBeanFactoryæ–¹æ³•  æä¾›å­ç±»çš„æ‰©å±•ç‚¹,åˆ°è¿™beanéƒ½åŠ è½½ã€æ³¨å†Œå®Œæˆ,ä½†æ²¡æœ‰åˆå§‹åŒ–,å…·ä½“çš„å­ç±»å¯ä»¥åœ¨è¿™æ­¥æ·»åŠ ç‰¹æ®Šbfppå®ç°ç±»åšäº‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;postProcessBeanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//è°ƒç”¨bfppçš„å„ä¸ªå®ç°ç±»çš„ppbfæ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;invokeBeanFactoryPostProcessors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//æ³¨å†ŒBeanPostProcessorçš„å®ç°ç±»,BeanPostProcessorå°†åœ¨beanåˆå§‹åŒ–å‰åæ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;registerBeanPostProcessors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//åˆå§‹åŒ–å½“å‰ ApplicationContext çš„ MessageSourceï¼Œå›½é™…åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;initMessageSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//åˆå§‹åŒ–å½“å‰ ApplicationContext çš„äº‹ä»¶å¹¿æ’­å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;initApplicationEventMulticaster&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//æ¨¡æ¿æ–¹æ³•(é’©å­æ–¹æ³•ï¼Œå…·ä½“çš„å­ç±»å¯ä»¥åœ¨è¿™é‡Œåˆå§‹åŒ–ä¸€äº›ç‰¹æ®Šçš„ Beanï¼ˆåœ¨åˆå§‹åŒ– singleton beans ä¹‹å‰ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;onRefresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ï¼Œç›‘å¬å™¨éœ€è¦å®ç° ApplicationListener æ¥å£ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;registerListeners&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//å®ä¾‹åŒ–+åˆå§‹åŒ–æ‰€æœ‰çš„éæ‡’åŠ è½½çš„å•ä¾‹bean
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;finishBeanFactoryInitialization&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;beanFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;//å¹¿æ’­äº‹ä»¶ï¼ŒApplicationContext åˆå§‹åŒ–å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;finishRefresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BeansException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;// Destroy already created singletons to avoid dangling resources.é”€æ¯å·²ç»åˆå§‹åŒ–çš„ singleton çš„ Beansï¼Œä»¥å…æœ‰äº› bean ä¼šä¸€ç›´å ç”¨èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;destroyBeans&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;cancelRefresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;// Propagate exception to caller.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;finally&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;resetCommonCaches&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;beançš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;Beançš„ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164026351-1683760583.png&#34;
	width=&#34;1172&#34;
	height=&#34;1097&#34;
	srcset=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164026351-1683760583_huf17aa757a5484a9a1425c0b492126cc8_107592_480x0_resize_box_3.png 480w, https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/1771072-20200909164026351-1683760583_huf17aa757a5484a9a1425c0b492126cc8_107592_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;106&#34;
		data-flex-basis=&#34;256px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¸ä¼šå¯¹Beançš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œè¯¦ç»†çš„æè¿°ï¼Œåªæè¿°ä¸€ä¸‹å¤§æ¦‚çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤Beançš„ç”Ÿå‘½æµç¨‹å¤§æ¦‚å¯ä»¥æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;postProcessBeforeInstantiation&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®ä¾‹åŒ–ï¼ˆåˆ›å»ºï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Aware&lt;/code&gt;æ¥å£&lt;/li&gt;
&lt;li&gt;&lt;code&gt;postProcessProperties&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å±æ€§èµ‹å€¼ï¼ˆä¾èµ–æ³¨å…¥)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;postProcessBeforeInitialization&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ Bean å®ç°äº†&lt;code&gt;InitializingBean&lt;/code&gt;æ¥å£ï¼Œæ‰§è¡Œ&lt;code&gt;afterPropertiesSet()&lt;/code&gt;æ–¹æ³•&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–(å¦‚æœ Bean åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å« &lt;code&gt;init-method&lt;/code&gt; å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;postProcessAfterInitialization&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;postProcessBeforeDestruction&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;éšç€&lt;code&gt;BeanFactory&lt;/code&gt;é”€æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;mermaid&#34; align=center&gt;graph LR

åˆ›å»º --&gt; ä¾èµ–æ³¨å…¥
ä¾èµ–æ³¨å…¥ --&gt; åˆå§‹åŒ–
åˆå§‹åŒ– --&gt; å¯ç”¨
å¯ç”¨ --&gt; é”€æ¯
  &lt;/div&gt;
  
  &lt;h3 id=&#34;beanåå¤„ç†å™¨&#34;&gt;Beanåå¤„ç†å™¨&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºå‰åçš„å¢å¼º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;postProcessBeforeInstantiation
&lt;ul&gt;
&lt;li&gt;è¿™é‡Œè¿”å›çš„å¯¹è±¡è‹¥ä¸ä¸º null ä¼šæ›¿æ¢æ‰åŸæœ¬çš„ beanï¼Œå¹¶ä¸”ä»…ä¼šèµ° postProcessAfterInitialization æµç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;postProcessAfterInstantiation
&lt;ul&gt;
&lt;li&gt;è¿™é‡Œå¦‚æœè¿”å› false ä¼šè·³è¿‡ä¾èµ–æ³¨å…¥é˜¶æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾èµ–æ³¨å…¥å‰çš„å¢å¼º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;postProcessProperties
&lt;ul&gt;
&lt;li&gt;å¦‚ @Autowiredã€@Valueã€@Resource&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆå§‹åŒ–å‰åçš„å¢å¼º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;postProcessBeforeInitialization
&lt;ul&gt;
&lt;li&gt;è¿™é‡Œè¿”å›çš„å¯¹è±¡ä¼šæ›¿æ¢æ‰åŸæœ¬çš„ bean&lt;/li&gt;
&lt;li&gt;å¦‚ @PostConstructã€@ConfigurationProperties&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;postProcessAfterInitialization ï¼ˆ&lt;strong&gt;ç”Ÿæˆä»£ç†å¯¹è±¡&lt;/strong&gt;ï¼‰
&lt;ul&gt;
&lt;li&gt;è¿™é‡Œè¿”å›çš„å¯¹è±¡ä¼šæ›¿æ¢æ‰åŸæœ¬çš„ bean&lt;/li&gt;
&lt;li&gt;å¦‚&lt;strong&gt;ä»£ç†å¢å¼º&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é”€æ¯ä¹‹å‰çš„å¢å¼º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;postProcessBeforeDestruction
&lt;ul&gt;
&lt;li&gt;å¦‚ @PreDestroy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aware-æ¥å£åŠ-initializingbean-æ¥å£&#34;&gt;Aware æ¥å£åŠ InitializingBean æ¥å£&lt;/h3&gt;
&lt;p&gt;æ”¶è·ğŸ’¡&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aware æ¥å£æä¾›äº†ä¸€ç§ã€å†…ç½®ã€‘ çš„æ³¨å…¥æ‰‹æ®µï¼Œå¯ä»¥å°†ä¸€äº› Spring å†…éƒ¨çš„ç±»æ ¹æ®éœ€è¦æ³¨å…¥ï¼Œä¾‹å¦‚
&lt;ul&gt;
&lt;li&gt;BeanNameAware æ³¨å…¥ bean çš„åå­—&lt;/li&gt;
&lt;li&gt;BeanFactoryAware æ³¨å…¥ BeanFactory å®¹å™¨&lt;/li&gt;
&lt;li&gt;ApplicationContextAware æ³¨å…¥ ApplicationContext å®¹å™¨&lt;/li&gt;
&lt;li&gt;EmbeddedValueResolverAware æ³¨å…¥ ${} è§£æå™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;InitializingBean æ¥å£æä¾›äº†ä¸€ç§ã€å†…ç½®ã€‘çš„åˆå§‹åŒ–æ‰‹æ®µ&lt;/li&gt;
&lt;li&gt;å¯¹æ¯”
&lt;ul&gt;
&lt;li&gt;å†…ç½®çš„æ³¨å…¥å’Œåˆå§‹åŒ–ä¸å—æ‰©å±•åŠŸèƒ½çš„å½±å“ï¼Œæ€»ä¼šè¢«æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;è€Œæ‰©å±•åŠŸèƒ½å—æŸäº›æƒ…å†µå½±å“å¯èƒ½ä¼šå¤±æ•ˆï¼ˆéœ€è¦é…åˆåç½®å¤„ç†å™¨ä½¿ç”¨ï¼Œæ²¡æœ‰åç½®å¤„ç†å™¨å°±ä¼šå¤±æ•ˆï¼‰&lt;/li&gt;
&lt;li&gt;å› æ­¤ Spring æ¡†æ¶å†…éƒ¨çš„ç±»å¸¸ç”¨å†…ç½®æ³¨å…¥å’Œåˆå§‹åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;ä»£ç†çš„åˆ›å»ºæ—¶æœº&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— å¾ªç¯ä¾èµ–æ—¶ï¼šåˆå§‹åŒ–ä¹‹å (åˆå§‹åŒ–å)&lt;/li&gt;
&lt;li&gt;æœ‰å¾ªç¯ä¾èµ–æ—¶ï¼šå®ä¾‹åˆ›å»ºå, ä¾èµ–æ³¨å…¥å‰ , å¹¶æš‚å­˜äºäºŒçº§ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;ä¾èµ–æ³¨å…¥ä¸åˆå§‹åŒ–ä¸åº”è¯¥è¢«å¢å¼º, ä»åº”è¢«æ–½åŠ äºåŸå§‹å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Beançš„ç”Ÿå‘½å‘¨æœŸæŒ‡çš„å°±æ˜¯ï¼šåœ¨Springä¸­ï¼ŒBeanæ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¢«Springç®¡ç†çš„å¯¹è±¡å«åšBeanã€‚Beançš„ç”Ÿæˆæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Springæ‰«æclasså¾—åˆ°BeanDefinition&lt;/li&gt;
&lt;li&gt;æ ¹æ®å¾—åˆ°çš„BeanDefinitionå»ç”Ÿæˆbean&lt;/li&gt;
&lt;li&gt;é¦–å…ˆæ ¹æ®classæ¨æ–­æ„é€ æ–¹æ³•&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ¨æ–­å‡ºæ¥çš„æ„é€ æ–¹æ³•ï¼Œåå°„ï¼Œå¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼ˆæš‚æ—¶å«åšåŸå§‹å¯¹è±¡ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code&gt;BeanNameAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code&gt;setBeanName()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ Bean çš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code&gt;BeanClassLoaderAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code&gt;setBeanClassLoader()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ &lt;code&gt;ClassLoader&lt;/code&gt;å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code&gt;BeanFactoryAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code&gt;setBeanFactory()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ &lt;code&gt;BeanFactory&lt;/code&gt;å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ä¸Šé¢çš„ç±»ä¼¼ï¼Œå¦‚æœå®ç°äº†å…¶ä»– &lt;code&gt;*.Aware&lt;/code&gt;æ¥å£ï¼Œå°±è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¡«å……åŸå§‹å¯¹è±¡ä¸­çš„å±æ€§ï¼ˆä¾èµ–æ³¨å…¥ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸå§‹å¯¹è±¡ä¸­çš„æŸä¸ªæ–¹æ³•è¢«AOPäº†ï¼Œé‚£ä¹ˆåˆ™éœ€è¦æ ¹æ®åŸå§‹å¯¹è±¡ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡&lt;/li&gt;
&lt;li&gt;æŠŠæœ€ç»ˆç”Ÿæˆçš„ä»£ç†å¯¹è±¡æ”¾å…¥å•ä¾‹æ± ï¼ˆæºç ä¸­å«åšsingletonObjectsï¼‰ä¸­ï¼Œä¸‹æ¬¡getBeanæ—¶å°±ç›´æ¥ä»å•ä¾‹æ± æ‹¿å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;springmvc-å’Œ-spring&#34;&gt;SpringMVC å’Œ Spring&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/qfikh/article/details/80507011&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;(49æ¡æ¶ˆæ¯) springå®¹å™¨å’Œspringmvcå®¹å™¨ï¼Œä»¥åŠwebå®¹å™¨çš„å…³ç³»_äººé±¼çº¿çš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/v2-88e5d76acf470ac0c8419f402082c873_720w.jpg&#34;
	width=&#34;720&#34;
	height=&#34;522&#34;
	srcset=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/v2-88e5d76acf470ac0c8419f402082c873_720w_hu78c9355f3dd9e099bc43b76a74046572_50066_480x0_resize_q75_box.jpg 480w, https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/v2-88e5d76acf470ac0c8419f402082c873_720w_hu78c9355f3dd9e099bc43b76a74046572_50066_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;137&#34;
		data-flex-basis=&#34;331px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;Tomcatåœ¨å¯åŠ¨æ—¶ç»™æ¯ä¸ªWebåº”ç”¨åˆ›å»ºä¸€ä¸ªå…¨å±€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡å°±æ˜¯ServletContextï¼Œå…¶ä¸ºåé¢çš„Springå®¹å™¨æä¾›å®¿ä¸»ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;Tomcatåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­è§¦å‘å®¹å™¨åˆå§‹åŒ–äº‹ä»¶ï¼ŒSpringçš„ContextLoaderListenerä¼šç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå®ƒçš„contextInitializedæ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼ŒSpringä¼šåˆå§‹åŒ–å…¨å±€çš„Springæ ¹å®¹å™¨ï¼Œè¿™ä¸ªå°±æ˜¯Springçš„IoCå®¹å™¨ï¼ŒIoCå®¹å™¨åˆå§‹åŒ–å®Œæ¯•åï¼ŒSpringå°†å…¶å­˜å‚¨åˆ°ServletContextä¸­ï¼Œä¾¿äºä»¥åæ¥è·å–ã€‚&lt;/p&gt;
&lt;p&gt;Tomcatåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­è¿˜ä¼šæ‰«æServletï¼Œä¸€ä¸ªWebåº”ç”¨ä¸­çš„Servletå¯ä»¥æœ‰å¤šä¸ªï¼Œä»¥SpringMVCä¸­çš„DispatcherServletä¸ºä¾‹ï¼Œè¿™ä¸ªServletå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ ‡å‡†çš„å‰ç«¯æ§åˆ¶å™¨ï¼Œç”¨ä»¥è½¬å‘ã€åŒ¹é…ã€å¤„ç†æ¯ä¸ªServletè¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;Servletä¸€èˆ¬ä¼šå»¶è¿ŸåŠ è½½ï¼Œå½“ç¬¬ä¸€ä¸ªè¯·æ±‚è¾¾åˆ°æ—¶ï¼ŒTomcat&amp;amp;Jettyå‘ç°DispatcherServletè¿˜æ²¡æœ‰è¢«å®ä¾‹åŒ–ï¼Œå°±è°ƒç”¨DispatcherServletçš„initæ–¹æ³•ï¼ŒDispatcherServletåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šå»ºç«‹è‡ªå·±çš„å®¹å™¨ï¼Œå«åšSpringMVC å®¹å™¨ï¼Œç”¨æ¥æŒæœ‰Spring MVCç›¸å…³çš„Beanã€‚åŒæ—¶ï¼ŒSpring MVCè¿˜ä¼šé€šè¿‡ServletContextæ‹¿åˆ°Springæ ¹å®¹å™¨ï¼Œå¹¶å°†Springæ ¹å®¹å™¨è®¾ä¸ºSpringMVCå®¹å™¨çš„çˆ¶å®¹å™¨ï¼Œè¯·æ³¨æ„ï¼ŒSpring MVCå®¹å™¨å¯ä»¥è®¿é—®çˆ¶å®¹å™¨ä¸­çš„Beanï¼Œä½†æ˜¯çˆ¶å®¹å™¨ä¸èƒ½è®¿é—®å­å®¹å™¨çš„Beanï¼Œ ä¹Ÿå°±æ˜¯è¯´Springæ ¹å®¹å™¨ä¸èƒ½è®¿é—®SpringMVCå®¹å™¨é‡Œçš„Beanã€‚è¯´çš„é€šä¿—ç‚¹å°±æ˜¯ï¼Œåœ¨Controlleré‡Œå¯ä»¥è®¿é—®Serviceå¯¹è±¡ï¼Œä½†æ˜¯åœ¨Serviceé‡Œä¸å¯ä»¥è®¿é—®Controllerå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨&#34;&gt;æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000022833940&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿‡æ»¤å™¨ å’Œ æ‹¦æˆªå™¨ 6ä¸ªåŒºåˆ«ï¼Œåˆ«å†å‚»å‚»åˆ†ä¸æ¸…äº† - SegmentFault æ€å¦&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Filter&lt;/code&gt; æ˜¯åœ¨Serveletä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œå±äº Webå®¹å™¨ï¼Œè€Œæ‹¦æˆªå™¨(&lt;code&gt;Interceptor&lt;/code&gt;) å®ƒæ˜¯ä¸€ä¸ª&lt;code&gt;Spring&lt;/code&gt;ç»„ä»¶ï¼Œå¹¶ç”±&lt;code&gt;Spring&lt;/code&gt;å®¹å™¨ç®¡ç†ï¼Œå¹¶ä¸ä¾èµ–&lt;code&gt;Tomcat&lt;/code&gt;ç­‰å®¹å™¨ï¼Œæ˜¯å¯ä»¥å•ç‹¬ä½¿ç”¨çš„ã€‚ä¸ä»…èƒ½åº”ç”¨åœ¨&lt;code&gt;web&lt;/code&gt;ç¨‹åºä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨äº&lt;code&gt;Application&lt;/code&gt;ã€&lt;code&gt;Swing&lt;/code&gt;ç­‰ç¨‹åºä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/20200602173814901.png&#34;
	width=&#34;568&#34;
	height=&#34;450&#34;
	srcset=&#34;https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/20200602173814901_hu1bbab2e482261d0e2266df0c764a0a59_13339_480x0_resize_box_3.png 480w, https://isheihei.github.io/posts/java/spring%E5%B8%B8%E8%A7%81%E9%A2%98%E7%9B%AE/20200602173814901_hu1bbab2e482261d0e2266df0c764a0a59_13339_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;126&#34;
		data-flex-basis=&#34;302px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰çº§ç¼“å­˜&#34;&gt;ä¸‰çº§ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;å¾ªç¯ä¾èµ–è§£å†³ï¼š&lt;a class=&#34;link&#34; href=&#34;https://juejin.cn/post/6844904039231012878&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¾ªç¯ä¾èµ–å¦‚ä½•é¿å…å’Œè§£å†³ - æ˜é‡‘ (juejin.cn)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000023647227&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Springå¾ªç¯ä¾èµ–ä¸‰çº§ç¼“å­˜æ˜¯å¦å¯ä»¥å»æ‰ç¬¬ä¸‰çº§ç¼“å­˜ï¼Ÿ - SegmentFault æ€å¦&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/weixin_42157730/article/details/121112572&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;(49æ¡æ¶ˆæ¯) å…³äºSpring IOC çš„ å•ä¾‹ç¼“å­˜æ± çš„ä¸€äº›æƒ³æ³•_ç½‘å‹å°é™ˆ_çš„åšå®¢-CSDNåšå®¢_springå•ä¾‹æ± &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‰çº§ç¼“å­˜æ˜¯é€šç”¨çš„å«æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€çº§ç¼“å­˜ä¸ºï¼šsingletonObjects&lt;/p&gt;
&lt;p&gt;äºŒçº§ç¼“å­˜ä¸ºï¼šearlySingletonObjects&lt;/p&gt;
&lt;p&gt;ä¸‰çº§ç¼“å­˜ä¸ºï¼šsingletonFactories&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…ˆç¨å¾®è§£é‡Šä¸€ä¸‹è¿™ä¸‰ä¸ªç¼“å­˜çš„ä½œç”¨ï¼Œåé¢è¯¦ç»†åˆ†æï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;singletonObjectsä¸­ç¼“å­˜çš„æ˜¯å·²ç»ç»å†äº†å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„beanå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;earlySingletonObjectsæ¯”singletonObjectså¤šäº†ä¸€ä¸ªearlyï¼Œè¡¨ç¤ºç¼“å­˜çš„æ˜¯æ—©æœŸçš„beanå¯¹è±¡ã€‚æ—©æœŸæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¡¨ç¤ºBeançš„ç”Ÿå‘½å‘¨æœŸè¿˜æ²¡èµ°å®Œå°±æŠŠè¿™ä¸ªBeanæ”¾å…¥earlySingletonObjectsã€‚è¯¥é˜¶æ®µè¿˜æ²¡æœ‰è¿›è¡Œå±æ€§æ³¨å…¥ã€‚&lt;/p&gt;
&lt;p&gt;singletonFactoriesä¸­ç¼“å­˜çš„æ˜¯ObjectFactoryï¼Œè¡¨ç¤ºå¯¹è±¡å·¥å‚ï¼Œç”¨æ¥åˆ›å»ºæŸä¸ªå¯¹è±¡çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;singletonObjectsï¼šç¼“å­˜æŸä¸ªbeanNameå¯¹åº”çš„ç»è¿‡äº†å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„bean&lt;/li&gt;
&lt;li&gt;earlySingletonObjectsï¼šç¼“å­˜æå‰æ‹¿åŸå§‹å¯¹è±¡è¿›è¡Œäº†AOPä¹‹åå¾—åˆ°çš„ä»£ç†å¯¹è±¡ï¼ŒåŸå§‹å¯¹è±¡è¿˜æ²¡æœ‰è¿›è¡Œå±æ€§æ³¨å…¥å’Œåç»­çš„BeanPostProcessorç­‰ç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;singletonFactoriesï¼šç¼“å­˜çš„æ˜¯ä¸€ä¸ªObjectFactoryï¼Œä¸»è¦ç”¨æ¥å»ç”ŸæˆåŸå§‹å¯¹è±¡è¿›è¡Œäº†AOPä¹‹åå¾—åˆ°çš„ä»£ç†å¯¹è±¡ï¼Œåœ¨æ¯ä¸ªBeançš„ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæå‰æš´éœ²ä¸€ä¸ªå·¥å‚ï¼Œè¿™ä¸ªå·¥å‚å¯èƒ½ç”¨åˆ°ï¼Œä¹Ÿå¯èƒ½ç”¨ä¸åˆ°ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°å¾ªç¯ä¾èµ–ä¾èµ–æœ¬beanï¼Œé‚£ä¹ˆè¿™ä¸ªå·¥å‚æ— ç”¨ï¼Œæœ¬beanæŒ‰ç…§è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œï¼Œæ‰§è¡Œå®Œåç›´æ¥æŠŠæœ¬beanæ”¾å…¥singletonObjectsä¸­å³å¯ï¼Œå¦‚æœå‡ºç°äº†å¾ªç¯ä¾èµ–ä¾èµ–äº†æœ¬beanï¼Œåˆ™å¦å¤–é‚£ä¸ªbeanæ‰§è¡ŒObjectFactoryæäº¤å¾—åˆ°ä¸€ä¸ªAOPä¹‹åçš„ä»£ç†å¯¹è±¡(å¦‚æœæœ‰AOPçš„è¯ï¼Œå¦‚æœæ— éœ€AOPï¼Œåˆ™ç›´æ¥å¾—åˆ°ä¸€ä¸ªåŸå§‹å¯¹è±¡)ã€‚&lt;/li&gt;
&lt;li&gt;å…¶å®è¿˜è¦ä¸€ä¸ªç¼“å­˜ï¼Œå°±æ˜¯earlyProxyReferencesï¼Œå®ƒç”¨æ¥è®°å½•æŸä¸ªåŸå§‹å¯¹è±¡æ˜¯å¦è¿›è¡Œè¿‡AOPäº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸‰çº§ç¼“å­˜é‡ŒæŠŠæœ€åŸå§‹çš„å¯¹è±¡å°è£…åˆ°ObjectFactory å·¥å‚å¯¹è±¡çš„é€»è¾‘é‡Œï¼Œè€Œè¿™æ—¶å€™å¯¹è±¡æ˜¯ä¸ç¨³å®šçš„ï¼Œåœ¨è°ƒç”¨singletonFactory.getObject() åå®é™…çš„å¯¹è±¡å¯èƒ½ä¼šéœ€è¦ä»£ç†çš„åŒ…è£…ï¼Œæ‰èƒ½æˆä¸ºæˆ‘ä»¬å®é™…ç¨‹åºä½¿ç”¨çš„å¯¹è±¡ï¼Œ ä»è€Œä¿å­˜åˆ°äºŒçº§ç¼“å­˜é‡Œå»ï¼Œè¿™ä¹Ÿæ˜¯ä¸‰çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„åŒºåˆ«ï¼ŒäºŒçº§ç¼“å­˜é‡Œä¿å­˜çš„å¯¹è±¡æ˜¯ç»è¿‡äº†ä»£ç†åŒ…è£…æˆ–æ›¿æ¢çš„ï¼Œä¸‰çº§ç¼“å­˜ä¸­çš„å¯¹è±¡è¿˜å­˜åœ¨ä¸ç¡®å®šæ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ„é€ å™¨æ³¨å…¥çš„ Bean çš„æƒ…å†µï¼Œä¸èƒ½è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œæ‰€ä»¥å°½é‡ä½¿ç”¨setteræ³¨å…¥ï¼Œä¸è¦ä½¿ç”¨æ„é€ æ³¨å…¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒçº§ç¼“å­˜è¡Œä¸è¡Œ&#34;&gt;äºŒçº§ç¼“å­˜è¡Œä¸è¡Œï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦åŒ…è£…ä¸€å±‚&lt;code&gt;ObjectFactory&lt;/code&gt;å¯¹è±¡ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœåˆ›å»ºçš„&lt;code&gt;Bean&lt;/code&gt;æœ‰å¯¹åº”çš„&lt;code&gt;ä»£ç†&lt;/code&gt;ï¼Œé‚£å…¶ä»–å¯¹è±¡æ³¨å…¥æ—¶ï¼Œæ³¨å…¥çš„åº”è¯¥æ˜¯å¯¹åº”çš„&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;ï¼›ä½†æ˜¯&lt;code&gt;Spring&lt;/code&gt;æ— æ³•æå‰çŸ¥é“è¿™ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æœ‰&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;çš„æƒ…å†µï¼Œè€Œ&lt;code&gt;æ­£å¸¸æƒ…å†µ&lt;/code&gt;ä¸‹ï¼ˆæ²¡æœ‰&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;æƒ…å†µï¼‰ï¼Œ&lt;code&gt;Spring&lt;/code&gt;éƒ½æ˜¯åœ¨åˆ›å»ºå¥½&lt;code&gt;å®Œæˆå“Bean&lt;/code&gt;ä¹‹åæ‰åˆ›å»ºå¯¹åº”çš„&lt;code&gt;ä»£ç†&lt;/code&gt;ã€‚è¿™æ—¶å€™&lt;code&gt;Spring&lt;/code&gt;æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ç®¡æœ‰æ²¡æœ‰&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;ï¼Œéƒ½&lt;code&gt;æå‰&lt;/code&gt;åˆ›å»ºå¥½&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;ï¼Œå¹¶å°†&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;æ”¾å…¥ç¼“å­˜ï¼Œå‡ºç°&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;æ—¶ï¼Œå…¶ä»–å¯¹è±¡ç›´æ¥å°±å¯ä»¥å–åˆ°ä»£ç†å¯¹è±¡å¹¶æ³¨å…¥ã€‚&lt;/li&gt;
&lt;li&gt;ä¸æå‰åˆ›å»ºå¥½ä»£ç†å¯¹è±¡ï¼Œåœ¨å‡ºç°&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;è¢«å…¶ä»–å¯¹è±¡æ³¨å…¥æ—¶ï¼Œæ‰å®æ—¶ç”Ÿæˆ&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;ã€‚è¿™æ ·åœ¨æ²¡æœ‰&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;çš„æƒ…å†µä¸‹ï¼Œ&lt;code&gt;Bean&lt;/code&gt;å°±å¯ä»¥æŒ‰ç€&lt;code&gt;Springè®¾è®¡åŸåˆ™&lt;/code&gt;çš„æ­¥éª¤æ¥åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Spring&lt;/code&gt;é€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ–¹å¼è¡Œä¸è¡Œï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Sping&lt;/code&gt;é€‰æ‹©äº†&lt;code&gt;ç¬¬äºŒç§&lt;/code&gt;ï¼Œå¦‚æœæ˜¯&lt;code&gt;ç¬¬ä¸€ç§&lt;/code&gt;ï¼Œå°±ä¼šæœ‰ä»¥ä¸‹ä¸åŒçš„å¤„ç†é€»è¾‘ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨&lt;code&gt;æå‰æ›å…‰åŠæˆå“&lt;/code&gt;æ—¶ï¼Œç›´æ¥æ‰§è¡Œ&lt;code&gt;getEarlyBeanReference&lt;/code&gt;åˆ›å»ºåˆ°ä»£ç†ï¼Œå¹¶æ”¾å…¥åˆ°ç¼“å­˜&lt;code&gt;earlySingletonObjects&lt;/code&gt;ä¸­ï¼Œè¿™æ—¶å€™&lt;code&gt;earlySingletonObjects&lt;/code&gt;é‡Œæ”¾çš„ä¸å†æ˜¯&lt;code&gt;å®é™…å¯¹è±¡&lt;/code&gt;ï¼Œè€Œæ˜¯&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;ï¼Œä»£ç†å¯¹è±¡çš„&lt;code&gt;target(å³å®é™…å¯¹è±¡)&lt;/code&gt;æ˜¯&lt;code&gt;åŠæˆå“&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰äº†ä¸Šä¸€æ­¥ï¼Œé‚£å°±ä¸éœ€è¦é€šè¿‡&lt;code&gt;ObjectFactory&lt;/code&gt;æ¥&lt;code&gt;å»¶è¿Ÿ&lt;/code&gt;æ‰§è¡Œ&lt;code&gt;getEarlyBeanReference&lt;/code&gt;ï¼Œä¹Ÿå°±ä¸éœ€è¦&lt;code&gt;singletonFactories&lt;/code&gt;è¿™ä¸€çº§ç¼“å­˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æµ‹è¯•ç»“æœæ˜¯å¯ä»¥çš„&lt;/strong&gt;ï¼Œå¹¶ä¸”ä»æºç ä¸Šåˆ†æå¯ä»¥å¾—å‡ºä¸¤ç§æ–¹å¼æ€§èƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°&lt;code&gt;Sping&lt;/code&gt;å¯åŠ¨é€Ÿåº¦ã€‚é‚£ä¸ºä»€ä¹ˆ&lt;code&gt;Sping&lt;/code&gt;ä¸é€‰æ‹©&lt;code&gt;äºŒçº§ç¼“å­˜&lt;/code&gt;æ–¹å¼ï¼Œè€Œæ˜¯è¦é¢å¤–åŠ ä¸€å±‚ç¼“å­˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ä½¿ç”¨&lt;code&gt;äºŒçº§ç¼“å­˜&lt;/code&gt;è§£å†³&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;ï¼Œæ„å‘³ç€Beanåœ¨&lt;code&gt;æ„é€ &lt;/code&gt;å®Œåå°±åˆ›å»º&lt;code&gt;ä»£ç†å¯¹è±¡&lt;/code&gt;ï¼Œè¿™æ ·è¿èƒŒäº†&lt;code&gt;Springè®¾è®¡åŸåˆ™&lt;/code&gt;ã€‚Springç»“åˆAOPè·ŸBeançš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯åœ¨&lt;code&gt;Beanåˆ›å»ºå®Œå…¨&lt;/code&gt;ä¹‹åé€šè¿‡&lt;code&gt;AnnotationAwareAspectJAutoProxyCreator&lt;/code&gt;è¿™ä¸ªåç½®å¤„ç†å™¨æ¥å®Œæˆçš„ï¼Œåœ¨è¿™ä¸ªåç½®å¤„ç†çš„&lt;code&gt;postProcessAfterInitialization&lt;/code&gt;æ–¹æ³•ä¸­å¯¹åˆå§‹åŒ–åçš„Beanå®ŒæˆAOPä»£ç†ã€‚å¦‚æœå‡ºç°äº†&lt;code&gt;å¾ªç¯ä¾èµ–&lt;/code&gt;ï¼Œé‚£æ²¡æœ‰åŠæ³•ï¼Œåªæœ‰ç»™Beanå…ˆåˆ›å»ºä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰å‡ºç°å¾ªç¯ä¾èµ–çš„æƒ…å†µä¸‹ï¼Œè®¾è®¡ä¹‹åˆå°±æ˜¯è®©Beanåœ¨ç”Ÿå‘½å‘¨æœŸçš„æœ€åä¸€æ­¥å®Œæˆä»£ç†è€Œä¸æ˜¯åœ¨å®ä¾‹åŒ–åå°±ç«‹é©¬å®Œæˆä»£ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¾ªç¯ä¾èµ–åˆ›å»ºè¿‡ç¨‹&#34;&gt;å¾ªç¯ä¾èµ–åˆ›å»ºè¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;å¦‚æœ&lt;code&gt;å¯¹è±¡A&lt;/code&gt;å’Œ&lt;code&gt;å¯¹è±¡B&lt;/code&gt;å¾ªç¯ä¾èµ–ï¼Œä¸”éƒ½æœ‰ä»£ç†çš„è¯ï¼Œé‚£åˆ›å»ºçš„é¡ºåºå°±æ˜¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;AåŠæˆå“&lt;/code&gt;åŠ å…¥&lt;code&gt;ç¬¬ä¸‰çº§ç¼“å­˜&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt;å¡«å……å±æ€§æ³¨å…¥&lt;code&gt;B&lt;/code&gt; -&amp;gt; åˆ›å»º&lt;code&gt;Bå¯¹è±¡&lt;/code&gt; -&amp;gt; &lt;code&gt;BåŠæˆå“&lt;/code&gt;åŠ å…¥&lt;code&gt;ç¬¬ä¸‰çº§ç¼“å­˜&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;B&lt;/code&gt;å¡«å……å±æ€§æ³¨å…¥&lt;code&gt;A&lt;/code&gt; -&amp;gt; åˆ›å»º&lt;code&gt;Aä»£ç†å¯¹è±¡&lt;/code&gt;ï¼Œä»&lt;code&gt;ç¬¬ä¸‰çº§ç¼“å­˜&lt;/code&gt;ç§»é™¤&lt;code&gt;Aå¯¹è±¡&lt;/code&gt;ï¼Œ&lt;code&gt;Aä»£ç†å¯¹è±¡&lt;/code&gt;åŠ å…¥&lt;code&gt;ç¬¬äºŒçº§ç¼“å­˜&lt;/code&gt;ï¼ˆæ­¤æ—¶&lt;code&gt;A&lt;/code&gt;è¿˜æ˜¯åŠæˆå“ï¼Œ&lt;code&gt;B&lt;/code&gt;æ³¨å…¥çš„æ˜¯&lt;code&gt;Aä»£ç†å¯¹è±¡&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;code&gt;Bä»£ç†å¯¹è±¡&lt;/code&gt;ï¼ˆæ­¤æ—¶&lt;code&gt;B&lt;/code&gt;æ˜¯å®Œæˆå“ï¼‰ -&amp;gt; ä»&lt;code&gt;ç¬¬ä¸‰çº§ç¼“å­˜&lt;/code&gt;ç§»é™¤&lt;code&gt;Bå¯¹è±¡&lt;/code&gt;ï¼Œ&lt;code&gt;Bä»£ç†å¯¹è±¡&lt;/code&gt;åŠ å…¥&lt;code&gt;ç¬¬ä¸€çº§ç¼“å­˜&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AåŠæˆå“&lt;/code&gt;æ³¨å…¥&lt;code&gt;Bä»£ç†å¯¹è±¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»&lt;code&gt;ç¬¬äºŒçº§ç¼“å­˜&lt;/code&gt;ç§»é™¤&lt;code&gt;Aä»£ç†å¯¹è±¡&lt;/code&gt;ï¼Œ&lt;code&gt;Aä»£ç†å¯¹è±¡&lt;/code&gt;åŠ å…¥&lt;code&gt;ç¬¬ä¸€çº§ç¼“å­˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/163031798&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Springæ˜¯å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–çš„ï¼Ÿ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000023647227&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Springå¾ªç¯ä¾èµ–ä¸‰çº§ç¼“å­˜æ˜¯å¦å¯ä»¥å»æ‰ç¬¬ä¸‰çº§ç¼“å­˜ï¼Ÿ - SegmentFault æ€å¦&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;beanfactory-å’Œ-factorybean-åŒºåˆ«&#34;&gt;BeanFactory å’Œ FactoryBean åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/aspirant/p/9082858.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;BeanFactory ç®€ä»‹ä»¥åŠå®ƒ å’ŒFactoryBeançš„åŒºåˆ«(é˜¿é‡Œé¢è¯•) - aspirant - åšå®¢å›­ (cnblogs.com)&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ƒçš„ä½œç”¨æ˜¯ç”¨åˆ¶é€ åˆ›å»ºè¿‡ç¨‹è¾ƒä¸ºå¤æ‚çš„äº§å“, å¦‚ SqlSessionFactory, ä½† @Bean å·²å…·å¤‡ç­‰ä»·åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸Šè¾ƒä¸ºå¤æ€ª, ä¸€ä¸ç•™ç¥å°±ä¼šç”¨é”™
&lt;ol&gt;
&lt;li&gt;è¢« FactoryBean åˆ›å»ºçš„äº§å“
&lt;ul&gt;
&lt;li&gt;ä¼šè®¤ä¸ºåˆ›å»ºã€ä¾èµ–æ³¨å…¥ã€Aware æ¥å£å›è°ƒã€å‰åˆå§‹åŒ–è¿™äº›éƒ½æ˜¯ FactoryBean çš„èŒè´£, è¿™äº›æµç¨‹éƒ½ä¸ä¼šèµ°&lt;/li&gt;
&lt;li&gt;å”¯æœ‰ååˆå§‹åŒ–çš„æµç¨‹ä¼šèµ°, ä¹Ÿå°±æ˜¯äº§å“å¯ä»¥è¢«ä»£ç†å¢å¼º&lt;/li&gt;
&lt;li&gt;å•ä¾‹çš„äº§å“ä¸ä¼šå­˜å‚¨äº BeanFactory çš„ singletonObjects æˆå‘˜ä¸­, è€Œæ˜¯å¦ä¸€ä¸ª factoryBeanObjectCache æˆå‘˜ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‰åå­—å»è·å–æ—¶, æ‹¿åˆ°çš„æ˜¯äº§å“å¯¹è±¡, åå­—å‰é¢åŠ  &amp;amp; è·å–çš„æ˜¯å·¥å‚å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;aop&#34;&gt;AOP&lt;/h2&gt;
&lt;p&gt;AOP åº•å±‚å®ç°æ–¹å¼ä¹‹ä¸€æ˜¯ä»£ç†ï¼Œç”±ä»£ç†ç»“åˆé€šçŸ¥å’Œç›®æ ‡ï¼Œæä¾›å¢å¼ºåŠŸèƒ½&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä»¥å¤–ï¼Œaspectj æä¾›äº†ä¸¤ç§å¦å¤–çš„ AOP åº•å±‚å®ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ˜¯é€šè¿‡ ajc ç¼–è¯‘å™¨åœ¨&lt;strong&gt;ç¼–è¯‘&lt;/strong&gt; class ç±»æ–‡ä»¶æ—¶ï¼Œå°±æŠŠé€šçŸ¥çš„å¢å¼ºåŠŸèƒ½ï¼Œç»‡å…¥åˆ°ç›®æ ‡ç±»çš„å­—èŠ‚ç ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬äºŒç§æ˜¯é€šè¿‡ agent åœ¨&lt;strong&gt;åŠ è½½&lt;/strong&gt;ç›®æ ‡ç±»æ—¶ï¼Œä¿®æ”¹ç›®æ ‡ç±»çš„å­—èŠ‚ç ï¼Œç»‡å…¥å¢å¼ºåŠŸèƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½œä¸ºå¯¹æ¯”ï¼Œä¹‹å‰å­¦ä¹ çš„ä»£ç†æ˜¯&lt;strong&gt;è¿è¡Œ&lt;/strong&gt;æ—¶ç”Ÿæˆæ–°çš„å­—èŠ‚ç &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç®€å•æ¯”è¾ƒçš„è¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;aspectj åœ¨ç¼–è¯‘å’ŒåŠ è½½æ—¶ï¼Œä¿®æ”¹ç›®æ ‡å­—èŠ‚ç ï¼Œæ€§èƒ½è¾ƒé«˜&lt;/li&gt;
&lt;li&gt;aspectj å› ä¸ºä¸ç”¨ä»£ç†ï¼Œèƒ½çªç ´ä¸€äº›æŠ€æœ¯ä¸Šçš„é™åˆ¶ï¼Œä¾‹å¦‚å¯¹æ„é€ ã€å¯¹é™æ€æ–¹æ³•ã€å¯¹ final ä¹Ÿèƒ½å¢å¼º&lt;/li&gt;
&lt;li&gt;ä½† aspectj ä¾µå…¥æ€§è¾ƒå¼ºï¼Œä¸”éœ€è¦å­¦ä¹ æ–°çš„ aspectj ç‰¹æœ‰è¯­æ³•ï¼Œå› æ­¤æ²¡æœ‰å¹¿æ³›æµè¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aop-å®ç°ä¹‹-proxy&#34;&gt;AOP å®ç°ä¹‹ proxy&lt;/h3&gt;
&lt;h4 id=&#34;jdk-åŠ¨æ€ä»£ç†&#34;&gt;jdk åŠ¨æ€ä»£ç†&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JdkProxyDemo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Foo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Target&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Foo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;target foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;param&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// ç›®æ ‡å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// ä»£ç†å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Foo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;proxy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;newProxyInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;proxy before...&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;invoke&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;proxy after...&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// è°ƒç”¨ä»£ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy before...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;target foo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy after...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ”¶è·ğŸ’¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jdk åŠ¨æ€ä»£ç†è¦æ±‚ç›®æ ‡&lt;strong&gt;å¿…é¡»&lt;/strong&gt;å®ç°æ¥å£ï¼Œç”Ÿæˆçš„ä»£ç†ç±»å®ç°ç›¸åŒæ¥å£ï¼Œå› æ­¤ä»£ç†ä¸ç›®æ ‡ä¹‹é—´æ˜¯å¹³çº§å…„å¼Ÿå…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;cglib-ä»£ç†&#34;&gt;cglib ä»£ç†&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CglibProxyDemo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;target foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;param&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// ç›®æ ‡å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// ä»£ç†å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;proxy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Enhancer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MethodInterceptor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;methodProxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;proxy before...&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;methodProxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;invoke&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;// å¦ä¸€ç§è°ƒç”¨æ–¹æ³•ï¼Œä¸éœ€è¦ç›®æ ‡å¯¹è±¡å®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//            Object result = methodProxy.invokeSuper(p, args);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;proxy after...&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// è°ƒç”¨ä»£ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿è¡Œç»“æœä¸ jdk åŠ¨æ€ä»£ç†ç›¸åŒ&lt;/p&gt;
&lt;p&gt;æ”¶è·ğŸ’¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cglib ä¸è¦æ±‚ç›®æ ‡å®ç°æ¥å£ï¼Œå®ƒç”Ÿæˆçš„ä»£ç†ç±»æ˜¯ç›®æ ‡çš„å­ç±»ï¼Œå› æ­¤ä»£ç†ä¸ç›®æ ‡ä¹‹é—´æ˜¯å­çˆ¶å…³ç³»&lt;/li&gt;
&lt;li&gt;é™åˆ¶â›”ï¼šæ ¹æ®ä¸Šè¿°åˆ†æ final ç±»æ— æ³•è¢« cglib å¢å¼º&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;jdk å’Œ cglib çš„åŒºåˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDKä»£ç†åªèƒ½å¯¹å®ç°æ¥å£çš„ç±»ç”Ÿæˆä»£ç†ï¼›CGLibæ˜¯é’ˆå¯¹ç±»å®ç°ä»£ç†ï¼Œå¯¹æŒ‡å®šçš„ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œå¹¶è¦†ç›–å…¶ä¸­çš„æ–¹æ³•ï¼Œè¿™ç§é€šè¿‡ç»§æ‰¿ç±»çš„å®ç°æ–¹å¼ï¼Œä¸èƒ½ä»£ç†finalä¿®é¥°çš„ç±»ã€‚&lt;/li&gt;
&lt;li&gt;JDKä»£ç†ä½¿ç”¨çš„æ˜¯åå°„æœºåˆ¶å®ç°aopçš„åŠ¨æ€ä»£ç†ï¼ŒCGLibä»£ç†ä½¿ç”¨å­—èŠ‚ç å¤„ç†æ¡†æ¶ASMï¼Œé€šè¿‡ä¿®æ”¹å­—èŠ‚ç ç”Ÿæˆå­ç±»ã€‚æ‰€ä»¥jdkåŠ¨æ€ä»£ç†çš„æ–¹å¼åˆ›å»ºä»£ç†å¯¹è±¡æ•ˆç‡è¾ƒé«˜ï¼Œæ‰§è¡Œæ•ˆç‡è¾ƒä½ï¼ŒCGLibåˆ›å»ºæ•ˆç‡è¾ƒä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ã€‚&lt;/li&gt;
&lt;li&gt;JDKåŠ¨æ€ä»£ç†æœºåˆ¶æ˜¯å§”æ‰˜æœºåˆ¶ï¼Œå…·ä½“è¯´åŠ¨æ€å®ç°æ¥å£ç±»ï¼Œåœ¨åŠ¨æ€ç”Ÿæˆçš„å®ç°ç±»é‡Œé¢å§”æ‰˜hanlderå»è°ƒç”¨åŸå§‹å®ç°ç±»æ–¹æ³•ï¼ŒCGLibåˆ™ä½¿ç”¨çš„ç»§æ‰¿æœºåˆ¶ï¼Œå…·ä½“è¯´è¢«ä»£ç†ç±»å’Œä»£ç†ç±»æ˜¯ç»§æ‰¿å…³ç³»ï¼Œæ‰€ä»¥ä»£ç†ç±»æ˜¯å¯ä»¥èµ‹å€¼ç»™è¢«ä»£ç†ç±»çš„ï¼Œå¦‚æœè¢«ä»£ç†ç±»æœ‰æ¥å£ï¼Œé‚£ä¹ˆä»£ç†ç±»ä¹Ÿå¯ä»¥èµ‹å€¼ç»™æ¥å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;spring-aop-å’Œ-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;Spring AOP å’Œ AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Spring AOP å±äºè¿è¡Œæ—¶å¢å¼ºï¼Œè€Œ AspectJ æ˜¯ç¼–è¯‘æ—¶å¢å¼ºã€‚&lt;/strong&gt; Spring AOP åŸºäºä»£ç†(Proxying)ï¼Œè€Œ AspectJ åŸºäºå­—èŠ‚ç æ“ä½œ(Bytecode Manipulation)ã€‚&lt;/p&gt;
&lt;p&gt;Spring AOP å·²ç»é›†æˆäº† AspectJ ï¼ŒAspectJ åº”è¯¥ç®—çš„ä¸Šæ˜¯ Java ç”Ÿæ€ç³»ç»Ÿä¸­æœ€å®Œæ•´çš„ AOP æ¡†æ¶äº†ã€‚AspectJ ç›¸æ¯”äº Spring AOP åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œä½†æ˜¯ Spring AOP ç›¸å¯¹æ¥è¯´æ›´ç®€å•ï¼Œ&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬çš„åˆ‡é¢æ¯”è¾ƒå°‘ï¼Œé‚£ä¹ˆä¸¤è€…æ€§èƒ½å·®å¼‚ä¸å¤§ã€‚ä½†æ˜¯ï¼Œå½“åˆ‡é¢å¤ªå¤šçš„è¯ï¼Œæœ€å¥½é€‰æ‹© AspectJ ï¼Œå®ƒæ¯” Spring AOP å¿«å¾ˆå¤š&lt;/p&gt;
&lt;h2 id=&#34;component-å’Œ-bean-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;@Component å’Œ @Bean çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;@Component&lt;/code&gt; æ³¨è§£ä½œç”¨äºç±»ï¼Œè€Œ&lt;code&gt;@Bean&lt;/code&gt;æ³¨è§£ä½œç”¨äºæ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Component&lt;/code&gt;é€šå¸¸æ˜¯é€šè¿‡ç±»è·¯å¾„æ‰«ææ¥è‡ªåŠ¨ä¾¦æµ‹ä»¥åŠè‡ªåŠ¨è£…é…åˆ° Spring å®¹å™¨ä¸­ï¼ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;@ComponentScan&lt;/code&gt; æ³¨è§£å®šä¹‰è¦æ‰«æçš„è·¯å¾„ä»ä¸­æ‰¾å‡ºæ ‡è¯†äº†éœ€è¦è£…é…çš„ç±»è‡ªåŠ¨è£…é…åˆ° Spring çš„ bean å®¹å™¨ä¸­ï¼‰ã€‚&lt;code&gt;@Bean&lt;/code&gt; æ³¨è§£é€šå¸¸æ˜¯æˆ‘ä»¬åœ¨æ ‡æœ‰è¯¥æ³¨è§£çš„æ–¹æ³•ä¸­å®šä¹‰äº§ç”Ÿè¿™ä¸ª bean,&lt;code&gt;@Bean&lt;/code&gt;å‘Šè¯‰äº† Spring è¿™æ˜¯æŸä¸ªç±»çš„å®ä¾‹ï¼Œå½“æˆ‘éœ€è¦ç”¨å®ƒçš„æ—¶å€™è¿˜ç»™æˆ‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Bean&lt;/code&gt; æ³¨è§£æ¯” &lt;code&gt;@Component&lt;/code&gt; æ³¨è§£çš„è‡ªå®šä¹‰æ€§æ›´å¼ºï¼Œè€Œä¸”å¾ˆå¤šåœ°æ–¹æˆ‘ä»¬åªèƒ½é€šè¿‡ &lt;code&gt;@Bean&lt;/code&gt; æ³¨è§£æ¥æ³¨å†Œ beanã€‚æ¯”å¦‚å½“æˆ‘ä»¬å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»éœ€è¦è£…é…åˆ° &lt;code&gt;Spring&lt;/code&gt;å®¹å™¨æ—¶ï¼Œåˆ™åªèƒ½é€šè¿‡ &lt;code&gt;@Bean&lt;/code&gt;æ¥å®ç°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;springmvc-å·¥ä½œåŸç†&#34;&gt;SpringMVC å·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://img-blog.csdnimg.cn/img_convert/de6d2b213f112297298f3e223bf08f28.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æµç¨‹è¯´æ˜ï¼ˆé‡è¦ï¼‰ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€è¯·æ±‚ï¼Œç›´æ¥è¯·æ±‚åˆ° &lt;code&gt;DispatcherServlet&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DispatcherServlet&lt;/code&gt; æ ¹æ®è¯·æ±‚ä¿¡æ¯è°ƒç”¨ &lt;code&gt;HandlerMapping&lt;/code&gt;ï¼Œè§£æè¯·æ±‚å¯¹åº”çš„ &lt;code&gt;Handler&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è§£æåˆ°å¯¹åº”çš„ &lt;code&gt;Handler&lt;/code&gt;ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„ &lt;code&gt;Controller&lt;/code&gt; æ§åˆ¶å™¨ï¼‰åï¼Œå¼€å§‹ç”± &lt;code&gt;HandlerAdapter&lt;/code&gt; é€‚é…å™¨å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HandlerAdapter&lt;/code&gt; ä¼šæ ¹æ® &lt;code&gt;Handler&lt;/code&gt;æ¥è°ƒç”¨çœŸæ­£çš„å¤„ç†å™¨å¼€å¤„ç†è¯·æ±‚ï¼Œå¹¶å¤„ç†ç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;å¤„ç†å™¨å¤„ç†å®Œä¸šåŠ¡åï¼Œä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;ModelAndView&lt;/code&gt; å¯¹è±¡ï¼Œ&lt;code&gt;Model&lt;/code&gt; æ˜¯è¿”å›çš„æ•°æ®å¯¹è±¡ï¼Œ&lt;code&gt;View&lt;/code&gt; æ˜¯ä¸ªé€»è¾‘ä¸Šçš„ &lt;code&gt;View&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ViewResolver&lt;/code&gt; ä¼šæ ¹æ®é€»è¾‘ &lt;code&gt;View&lt;/code&gt; æŸ¥æ‰¾å®é™…çš„ &lt;code&gt;View&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DispaterServlet&lt;/code&gt; æŠŠè¿”å›çš„ &lt;code&gt;Model&lt;/code&gt; ä¼ ç»™ &lt;code&gt;View&lt;/code&gt;ï¼ˆè§†å›¾æ¸²æŸ“ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æŠŠ &lt;code&gt;View&lt;/code&gt; è¿”å›ç»™è¯·æ±‚è€…ï¼ˆæµè§ˆå™¨ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;spring-è‡ªåŠ¨è£…é…&#34;&gt;Spring è‡ªåŠ¨è£…é…&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/system-design/framework/spring/spring-boot-auto-assembly-principles.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Spring Boot è‡ªåŠ¨è£…é…åŸç† | JavaGuide&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;autowiredå’Œresourceçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;@Autowiredå’Œ@Resourceçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/question/39356740&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;@Autowiredå’Œ@Resourceçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;@Autowiredé»˜è®¤æŒ‰byTypeè‡ªåŠ¨è£…é…ï¼Œè€Œ@Resourceé»˜è®¤byNameè‡ªåŠ¨è£…é…ã€‚&lt;/li&gt;
&lt;li&gt;@AutowiredåªåŒ…å«ä¸€ä¸ªå‚æ•°ï¼šrequiredï¼Œè¡¨ç¤ºæ˜¯å¦å¼€å¯è‡ªåŠ¨å‡†å…¥ï¼Œé»˜è®¤æ˜¯trueã€‚è€Œ@ResourceåŒ…å«ä¸ƒä¸ªå‚æ•°ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªå‚æ•°æ˜¯ï¼šname å’Œ typeã€‚&lt;/li&gt;
&lt;li&gt;@Autowiredå¦‚æœè¦ä½¿ç”¨byNameï¼Œéœ€è¦ä½¿ç”¨@Qualifierä¸€èµ·é…åˆã€‚è€Œ@Resourceå¦‚æœæŒ‡å®šäº†nameï¼Œåˆ™ç”¨byNameè‡ªåŠ¨è£…é…ï¼Œå¦‚æœæŒ‡å®šäº†typeï¼Œåˆ™ç”¨byTypeè‡ªåŠ¨è£…é…ã€‚&lt;/li&gt;
&lt;li&gt;@Autowiredèƒ½å¤Ÿç”¨åœ¨ï¼šæ„é€ å™¨ã€æ–¹æ³•ã€å‚æ•°ã€æˆå‘˜å˜é‡å’Œæ³¨è§£ä¸Šï¼Œè€Œ@Resourceèƒ½ç”¨åœ¨ï¼šç±»ã€æˆå‘˜å˜é‡å’Œæ–¹æ³•ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;@Autowiredæ˜¯springå®šä¹‰çš„æ³¨è§£ï¼Œè€Œ@Resourceæ˜¯JSR-250å®šä¹‰çš„æ³¨è§£ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨è‡ªåŠ¨é…ç½®çš„æ–¹å¼è£…é…Beanæ—¶ï¼Œå¦‚æœè¿™ä¸ªBeanæœ‰å¤šä¸ªå€™é€‰è€…ï¼Œå‡å¦‚å…¶ä¸­ä¸€ä¸ªå€™é€‰è€…å…·æœ‰@Primary&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/search?q=%e6%b3%a8%e8%a7%a3%e4%bf%ae%e9%a5%b0&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7b%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1907479772%7d&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ³¨è§£ä¿®é¥°&lt;/a&gt;ï¼Œè¯¥å€™é€‰è€…ä¼šè¢«é€‰ä¸­ï¼Œä½œä¸ºè‡ªåŠ¨é…ç½®çš„å€¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Filteræˆ–Listenerç±»ä¸­æ³¨å…¥æŠ¥é”™&lt;/p&gt;
&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/search?q=springmvc&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7b%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1907479772%7d&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;springmvc&lt;/a&gt;çš„å¯åŠ¨æ˜¯åœ¨DisptachServleté‡Œé¢åšçš„ï¼Œè€Œå®ƒæ˜¯åœ¨listenerå’Œfilterä¹‹åæ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/search?q=listener&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7b%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1907479772%7d&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;listener&lt;/a&gt;å’Œfilteré‡Œé¢@AutowiredæŸä¸ªbeanï¼Œè‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºfilteråˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ­¤æ—¶beanè¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œæ— æ³•è‡ªåŠ¨è£…é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…¶ä»–å¸¸è§æ³¨è§£&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/system-design/framework/spring/spring-common-annotations.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Spring/Spring Boot å¸¸ç”¨æ³¨è§£æ€»ç»“ï¼ | JavaGuide&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;springäº‹åŠ¡&#34;&gt;Springäº‹åŠ¡&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/system-design/framework/spring/spring-transaction.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Spring äº‹åŠ¡æ€»ç»“ | JavaGuide&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;spring-æ”¯æŒä¸¤ç§æ–¹å¼çš„äº‹åŠ¡ç®¡ç†&#34;&gt;Spring æ”¯æŒä¸¤ç§æ–¹å¼çš„äº‹åŠ¡ç®¡ç†&lt;/h3&gt;
&lt;h4 id=&#34;ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†&#34;&gt;ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ &lt;code&gt;TransactionTemplate&lt;/code&gt;æˆ–è€…&lt;code&gt;TransactionManager&lt;/code&gt;æ‰‹åŠ¨ç®¡ç†äº‹åŠ¡ï¼Œå®é™…åº”ç”¨ä¸­å¾ˆå°‘ä½¿ç”¨ï¼Œä½†æ˜¯å¯¹äºä½ ç†è§£ Spring äº‹åŠ¡ç®¡ç†åŸç†æœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PlatformTransactionManager&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;transactionManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testTransaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;TransactionStatus&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;transactionManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getTransaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultTransactionDefinition&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;c1&#34;&gt;// ....  ä¸šåŠ¡ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;              &lt;span class=&#34;n&#34;&gt;transactionManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;commit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;n&#34;&gt;transactionManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rollback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;å£°æ˜å¼äº‹åŠ¡ç®¡ç†&#34;&gt;å£°æ˜å¼äº‹åŠ¡ç®¡ç†&lt;/h4&gt;
&lt;p&gt;æ¨èä½¿ç”¨ï¼ˆä»£ç ä¾µå…¥æ€§æœ€å°ï¼‰ï¼Œå®é™…æ˜¯é€šè¿‡ AOP å®ç°ï¼ˆåŸºäº&lt;code&gt;@Transactional&lt;/code&gt; çš„å…¨æ³¨è§£æ–¹å¼ä½¿ç”¨æœ€å¤šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£è¿›è¡Œäº‹åŠ¡ç®¡ç†çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Transactional&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;propagation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;propagation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;PROPAGATION_REQUIRED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;aMethod&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;//do something
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;C&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;bMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;pring-äº‹åŠ¡ç®¡ç†æ¥å£ä»‹ç»&#34;&gt;pring äº‹åŠ¡ç®¡ç†æ¥å£ä»‹ç»&lt;/h3&gt;
&lt;p&gt;Spring æ¡†æ¶ä¸­ï¼Œäº‹åŠ¡ç®¡ç†ç›¸å…³æœ€é‡è¦çš„ 3 ä¸ªæ¥å£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;PlatformTransactionManager&lt;/code&gt;&lt;/strong&gt;ï¼š ï¼ˆå¹³å°ï¼‰äº‹åŠ¡ç®¡ç†å™¨ï¼ŒSpring äº‹åŠ¡ç­–ç•¥çš„æ ¸å¿ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition&lt;/code&gt;&lt;/strong&gt;ï¼š äº‹åŠ¡å®šä¹‰ä¿¡æ¯(äº‹åŠ¡éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€è¶…æ—¶ã€åªè¯»ã€å›æ»šè§„åˆ™)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionStatus&lt;/code&gt;&lt;/strong&gt;ï¼š äº‹åŠ¡è¿è¡ŒçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;platformtransactionmanager&#34;&gt;PlatformTransactionManagerï¼š&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.transaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.lang.Nullable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;PlatformTransactionManager&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//è·å¾—äº‹åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;TransactionStatus&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getTransaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Nullable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TransactionDefinition&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TransactionException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//æäº¤äº‹åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;commit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TransactionStatus&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TransactionException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//å›æ»šäº‹åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rollback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TransactionStatus&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TransactionException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;transactiondefinitionäº‹åŠ¡å±æ€§&#34;&gt;TransactionDefinition:äº‹åŠ¡å±æ€§&lt;/h4&gt;
&lt;p&gt;äº‹åŠ¡ç®¡ç†å™¨æ¥å£ &lt;strong&gt;&lt;code&gt;PlatformTransactionManager&lt;/code&gt;&lt;/strong&gt; é€šè¿‡ &lt;strong&gt;&lt;code&gt;getTransaction(TransactionDefinition definition)&lt;/code&gt;&lt;/strong&gt; æ–¹æ³•æ¥å¾—åˆ°ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢çš„å‚æ•°æ˜¯ &lt;strong&gt;&lt;code&gt;TransactionDefinition&lt;/code&gt;&lt;/strong&gt; ç±» ï¼Œè¿™ä¸ªç±»å°±å®šä¹‰äº†ä¸€äº›åŸºæœ¬çš„äº‹åŠ¡å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯äº‹åŠ¡å±æ€§å‘¢ï¼Ÿ&lt;/strong&gt; äº‹åŠ¡å±æ€§å¯ä»¥ç†è§£æˆäº‹åŠ¡çš„ä¸€äº›åŸºæœ¬é…ç½®ï¼Œæè¿°äº†äº‹åŠ¡ç­–ç•¥å¦‚ä½•åº”ç”¨åˆ°æ–¹æ³•ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;äº‹åŠ¡å±æ€§åŒ…å«äº† 5 ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éš”ç¦»çº§åˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.ISOLATION_DEFAULT&lt;/code&gt;&lt;/strong&gt; :ä½¿ç”¨åç«¯æ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼ŒMySQL é»˜è®¤é‡‡ç”¨çš„ &lt;code&gt;REPEATABLE_READ&lt;/code&gt; éš”ç¦»çº§åˆ« Oracle é»˜è®¤é‡‡ç”¨çš„ &lt;code&gt;READ_COMMITTED&lt;/code&gt; éš”ç¦»çº§åˆ«.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.ISOLATION_READ_UNCOMMITTED&lt;/code&gt;&lt;/strong&gt; :æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œä½¿ç”¨è¿™ä¸ªéš”ç¦»çº§åˆ«å¾ˆå°‘ï¼Œå› ä¸ºå®ƒå…è®¸è¯»å–å°šæœªæäº¤çš„æ•°æ®å˜æ›´ï¼Œ&lt;strong&gt;å¯èƒ½ä¼šå¯¼è‡´è„è¯»ã€å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.ISOLATION_READ_COMMITTED&lt;/code&gt;&lt;/strong&gt; : å…è®¸è¯»å–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œ&lt;strong&gt;å¯ä»¥é˜»æ­¢è„è¯»ï¼Œä½†æ˜¯å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.ISOLATION_REPEATABLE_READ&lt;/code&gt;&lt;/strong&gt; : å¯¹åŒä¸€å­—æ®µçš„å¤šæ¬¡è¯»å–ç»“æœéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤éæ•°æ®æ˜¯è¢«æœ¬èº«äº‹åŠ¡è‡ªå·±æ‰€ä¿®æ”¹ï¼Œ&lt;strong&gt;å¯ä»¥é˜»æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†å¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.ISOLATION_SERIALIZABLE&lt;/code&gt;&lt;/strong&gt; : æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®Œå…¨æœä» ACID çš„éš”ç¦»çº§åˆ«ã€‚æ‰€æœ‰çš„äº‹åŠ¡ä¾æ¬¡é€ä¸ªæ‰§è¡Œï¼Œè¿™æ ·äº‹åŠ¡ä¹‹é—´å°±å®Œå…¨ä¸å¯èƒ½äº§ç”Ÿå¹²æ‰°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;strong&gt;è¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»&lt;/strong&gt;ã€‚ä½†æ˜¯è¿™å°†ä¸¥é‡å½±å“ç¨‹åºçš„æ€§èƒ½ã€‚é€šå¸¸æƒ…å†µä¸‹ä¹Ÿä¸ä¼šç”¨åˆ°è¯¥çº§åˆ«ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼ æ’­è¡Œä¸º&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_REQUIRED&lt;/code&gt;ï¼šé»˜è®¤çš„ä¼ æ’­è¡Œä¸ºã€‚å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚æœ‰å°±åŠ å…¥ï¼Œæ²¡æœ‰å°±åˆ›å»ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_REQUIRES_NEW&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡å¤–éƒ¨æ–¹æ³•æ˜¯å¦å¼€å¯äº‹åŠ¡ï¼Œ&lt;code&gt;Propagation.REQUIRES_NEW&lt;/code&gt;ä¿®é¥°çš„å†…éƒ¨æ–¹æ³•ä¼šæ–°å¼€å¯è‡ªå·±çš„äº‹åŠ¡ï¼Œä¸”å¼€å¯çš„äº‹åŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_NESTED&lt;/code&gt;ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ‰§è¡Œä¸&lt;code&gt;TransactionDefinition.PROPAGATION_REQUIRED&lt;/code&gt;ç±»ä¼¼çš„æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨å¤–éƒ¨æ–¹æ³•å¼€å¯äº‹åŠ¡çš„æƒ…å†µä¸‹,åœ¨å†…éƒ¨å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œä½œä¸ºåµŒå¥—äº‹åŠ¡å­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤–éƒ¨æ–¹æ³•æ— äº‹åŠ¡ï¼Œåˆ™å•ç‹¬å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸ &lt;code&gt;PROPAGATION_REQUIRED&lt;/code&gt; ç±»ä¼¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_MANDATORY&lt;/code&gt;ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ï¼ˆmandatoryï¼šå¼ºåˆ¶æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‹¥æ˜¯é”™è¯¯çš„é…ç½®ä»¥ä¸‹ 3 ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œäº‹åŠ¡å°†ä¸ä¼šå‘ç”Ÿå›æ»šï¼Œè¿™é‡Œä¸å¯¹ç…§æ¡ˆä¾‹è®²è§£äº†ï¼Œä½¿ç”¨çš„å¾ˆå°‘ã€‚&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_SUPPORTS&lt;/code&gt;&lt;/strong&gt;: å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡çš„æ–¹å¼ç»§ç»­è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_NOT_SUPPORTED&lt;/code&gt;&lt;/strong&gt;: ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TransactionDefinition.PROPAGATION_NEVER&lt;/code&gt;&lt;/strong&gt;: ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å›æ»šè§„åˆ™&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿™äº›è§„åˆ™å®šä¹‰äº†å“ªäº›å¼‚å¸¸ä¼šå¯¼è‡´äº‹åŠ¡å›æ»šè€Œå“ªäº›ä¸ä¼šã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œäº‹åŠ¡åªæœ‰é‡åˆ°è¿è¡ŒæœŸå¼‚å¸¸ï¼ˆ&lt;code&gt;RuntimeException&lt;/code&gt; çš„å­ç±»ï¼‰æ—¶æ‰ä¼šå›æ»šï¼Œ&lt;code&gt;Error&lt;/code&gt; ä¹Ÿä¼šå¯¼è‡´äº‹åŠ¡å›æ»šï¼Œä½†æ˜¯ï¼Œåœ¨é‡åˆ°æ£€æŸ¥å‹ï¼ˆCheckedï¼‰å¼‚å¸¸æ—¶ä¸ä¼šå›æ»šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦å›æ»šä½ å®šä¹‰çš„ç‰¹å®šçš„å¼‚å¸¸ç±»å‹çš„è¯ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Transactional&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rollbackFor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MyException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ˜¯å¦åªè¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½†æ˜¯ï¼Œå¦‚æœä½ ç»™æ–¹æ³•åŠ ä¸Šäº†&lt;code&gt;Transactional&lt;/code&gt;æ³¨è§£çš„è¯ï¼Œè¿™ä¸ªæ–¹æ³•æ‰§è¡Œçš„æ‰€æœ‰&lt;code&gt;sql&lt;/code&gt;ä¼šè¢«æ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚å¦‚æœå£°æ˜äº†åªè¯»äº‹åŠ¡çš„è¯ï¼Œæ•°æ®åº“å°±ä¼šå»ä¼˜åŒ–å®ƒçš„æ‰§è¡Œï¼Œå¹¶ä¸ä¼šå¸¦æ¥å…¶ä»–çš„ä»€ä¹ˆæ”¶ç›Šã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸åŠ &lt;code&gt;Transactional&lt;/code&gt;ï¼Œæ¯æ¡&lt;code&gt;sql&lt;/code&gt;ä¼šå¼€å¯ä¸€ä¸ªå•ç‹¬çš„äº‹åŠ¡ï¼Œä¸­é—´è¢«å…¶å®ƒäº‹åŠ¡æ”¹äº†æ•°æ®ï¼Œéƒ½ä¼šå®æ—¶è¯»å–åˆ°æœ€æ–°å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ ä¸€æ¬¡æ‰§è¡Œå•æ¡æŸ¥è¯¢è¯­å¥ï¼Œåˆ™æ²¡æœ‰å¿…è¦å¯ç”¨äº‹åŠ¡æ”¯æŒï¼Œæ•°æ®åº“é»˜è®¤æ”¯æŒ SQL æ‰§è¡ŒæœŸé—´çš„è¯»ä¸€è‡´æ€§ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ ä¸€æ¬¡æ‰§è¡Œå¤šæ¡æŸ¥è¯¢è¯­å¥ï¼Œä¾‹å¦‚ç»Ÿè®¡æŸ¥è¯¢ï¼ŒæŠ¥è¡¨æŸ¥è¯¢ï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¤šæ¡æŸ¥è¯¢ SQL å¿…é¡»ä¿è¯æ•´ä½“çš„è¯»ä¸€è‡´æ€§ï¼Œå¦åˆ™ï¼Œåœ¨å‰æ¡ SQL æŸ¥è¯¢ä¹‹åï¼Œåæ¡ SQL æŸ¥è¯¢ä¹‹å‰ï¼Œæ•°æ®è¢«å…¶ä»–ç”¨æˆ·æ”¹å˜ï¼Œåˆ™è¯¥æ¬¡æ•´ä½“çš„ç»Ÿè®¡æŸ¥è¯¢å°†ä¼šå‡ºç°è¯»æ•°æ®ä¸ä¸€è‡´çš„çŠ¶æ€ï¼Œæ­¤æ—¶ï¼Œåº”è¯¥å¯ç”¨äº‹åŠ¡æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;äº‹åŠ¡è¶…æ—¶&lt;/strong&gt;ï¼›æ‰€è°“äº‹åŠ¡è¶…æ—¶ï¼Œå°±æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡æ‰€å…è®¸æ‰§è¡Œçš„æœ€é•¿æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¯¥æ—¶é—´é™åˆ¶ä½†äº‹åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåˆ™è‡ªåŠ¨å›æ»šäº‹åŠ¡ã€‚åœ¨ &lt;code&gt;TransactionDefinition&lt;/code&gt; ä¸­ä»¥ int çš„å€¼æ¥è¡¨ç¤ºè¶…æ—¶æ—¶é—´ï¼Œå…¶å•ä½æ˜¯ç§’ï¼Œ&lt;strong&gt;é»˜è®¤å€¼ä¸º-1ï¼ˆä¸è¶…æ—¶ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;transactionstatusäº‹åŠ¡çŠ¶æ€&#34;&gt;TransactionStatus:äº‹åŠ¡çŠ¶æ€&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;TransactionStatus&lt;/code&gt;æ¥å£ç”¨æ¥è®°å½•äº‹åŠ¡çš„çŠ¶æ€ è¯¥æ¥å£å®šä¹‰äº†ä¸€ç»„æ–¹æ³•,ç”¨æ¥è·å–æˆ–åˆ¤æ–­äº‹åŠ¡çš„ç›¸åº”çŠ¶æ€ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PlatformTransactionManager.getTransaction(â€¦)&lt;/code&gt;æ–¹æ³•è¿”å›ä¸€ä¸ª &lt;code&gt;TransactionStatus&lt;/code&gt; å¯¹è±¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TransactionStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isNewTransaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦æ˜¯æ–°çš„äº‹åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hasSavepoint&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦æœ‰æ¢å¤ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRollbackOnly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®ä¸ºåªå›æ»š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isRollbackOnly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦ä¸ºåªå›æ»š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isCompleted&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦å·²å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;transactional-æ³¨è§£ä½¿ç”¨è¯¦è§£&#34;&gt;@Transactional æ³¨è§£ä½¿ç”¨è¯¦è§£&lt;/h3&gt;
&lt;h4 id=&#34;transactional-çš„ä½œç”¨èŒƒå›´&#34;&gt;&lt;code&gt;@Transactional&lt;/code&gt; çš„ä½œç”¨èŒƒå›´&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ–¹æ³•&lt;/strong&gt; ï¼šæ¨èå°†æ³¨è§£ä½¿ç”¨äºæ–¹æ³•ä¸Šï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼š&lt;strong&gt;è¯¥æ³¨è§£åªèƒ½åº”ç”¨åˆ° public æ–¹æ³•ä¸Šï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç±»&lt;/strong&gt; ï¼šå¦‚æœè¿™ä¸ªæ³¨è§£ä½¿ç”¨åœ¨ç±»ä¸Šçš„è¯ï¼Œè¡¨æ˜è¯¥æ³¨è§£å¯¹è¯¥ç±»ä¸­æ‰€æœ‰çš„ public æ–¹æ³•éƒ½ç”Ÿæ•ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£&lt;/strong&gt; ï¼šä¸æ¨èåœ¨æ¥å£ä¸Šä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;spring-æ¡†æ¶ä¸­ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼&#34;&gt;Spring æ¡†æ¶ä¸­ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å·¥å‚è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Springä½¿ç”¨å·¥å‚æ¨¡å¼é€šè¿‡ &lt;code&gt;BeanFactory&lt;/code&gt;ã€&lt;code&gt;ApplicationContext&lt;/code&gt; åˆ›å»º bean å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç†è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Spring AOP åŠŸèƒ½çš„å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•ä¾‹è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Spring ä¸­çš„ Bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡æ¿æ–¹æ³•æ¨¡å¼&lt;/strong&gt; : Spring ä¸­ &lt;code&gt;jdbcTemplate&lt;/code&gt;ã€&lt;code&gt;hibernateTemplate&lt;/code&gt; ç­‰ä»¥ Template ç»“å°¾çš„å¯¹æ•°æ®åº“æ“ä½œçš„ç±»ï¼Œå®ƒä»¬å°±ä½¿ç”¨åˆ°äº†æ¨¡æ¿æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒ…è£…å™¨è®¾è®¡æ¨¡å¼&lt;/strong&gt; : æˆ‘ä»¬çš„é¡¹ç›®éœ€è¦è¿æ¥å¤šä¸ªæ•°æ®åº“ï¼Œè€Œä¸”ä¸åŒçš„å®¢æˆ·åœ¨æ¯æ¬¡è®¿é—®ä¸­æ ¹æ®éœ€è¦ä¼šå»è®¿é—®ä¸åŒçš„æ•°æ®åº“ã€‚è¿™ç§æ¨¡å¼è®©æˆ‘ä»¬å¯ä»¥æ ¹æ®å®¢æˆ·çš„éœ€æ±‚èƒ½å¤ŸåŠ¨æ€åˆ‡æ¢ä¸åŒçš„æ•°æ®æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§‚å¯Ÿè€…æ¨¡å¼:&lt;/strong&gt; Spring äº‹ä»¶é©±åŠ¨æ¨¡å‹å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼å¾ˆç»å…¸çš„ä¸€ä¸ªåº”ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚é…å™¨æ¨¡å¼&lt;/strong&gt; :Spring AOP çš„å¢å¼ºæˆ–é€šçŸ¥(Advice)ä½¿ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼ã€spring MVC ä¸­ä¹Ÿæ˜¯ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼é€‚é…&lt;code&gt;Controller&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mybatis-ç¼“å­˜&#34;&gt;Mybatis ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tech.meituan.com/2018/01/19/mybatis-cache.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;èŠèŠMyBatisç¼“å­˜æœºåˆ¶ - ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ (meituan.com)&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
